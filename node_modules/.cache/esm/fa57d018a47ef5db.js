let data;_a47‍.w("./data",[["*",null,function(v){data=v}]]);const express = _a47‍.t("require")('express')
const app = express()
const Sequelize = _a47‍.t("require")("sequelize");

const connection = new Sequelize('db', 'root0', 'root0', {
    dialect: "mysql"
})

const User = connection.define('User', {
    uuid: {
        type: Sequelize.UUID,
        primaryKey: true,
        defaultValue: Sequelize.UUIDV4
    },
    name: Sequelize.STRING,
    email: Sequelize.STRING,
    password: Sequelize.STRING
}
)
const Job = connection.define('Job', {
    name: Sequelize.STRING,
    description: Sequelize.STRING
}
)
//RELATIONS
User.hasOne(Job)

//CREATE TABLES
connection.sync({
    logging: _a47‍.g.console.log,
    force: true
})
    .then(() => {
        console.log('DB CONNECTED LOCALY !!!')
        User.bulkCreate(data.data)
        app.listen(8080, () => {
            console.log('RUNNING WEB SERVER ON 8080')
        })
    })
    .catch(() => { console.log('BD ACCESS FAILD !!!') })

app.get('/', (req, res) => {
    return res.send({ name: 'basta', age: 50 })
})
